{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","components/ErrorMessage.js","services/persons.js","App.js","index.js"],"names":["Filter","filtName","onChangeFilt","value","onChange","PersonForm","newName","newNumber","onChangeNumber","onClick","type","Persons","numbers","Notification","message","style","color","fontSize","border","textAlign","ErrorMessage","error","baseUrl","axios","get","then","Response","data","newObject","post","response","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFiltName","setMessage","setError","deleteHandler","name","find","person","window","confirm","personsService","setTimeout","personsData","useEffect","catch","filtname","event","target","preventDefault","map","item","includes","number","alert","updatedPerson","p","returnedPerson","concat","names","filter","toLowerCase","i","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.091a4a42.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filtName, onChangeFilt}) => {\r\n  return (\r\n    <div>\r\n    filter shown with \r\n    <input value={filtName} onChange={onChangeFilt}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({newName, onChange, newNumber, onChangeNumber, onClick}) => {\r\n  return (\r\n    <div>\r\n      <form>\r\n        <div>name: <input value={newName} onChange={onChange}/></div>\r\n        <div>number: <input value={newNumber} onChange={onChangeNumber}/></div>\r\n        <div><button type=\"submit\" onClick={onClick}>add</button></div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({numbers}) => {\r\n  return (\r\n    <div>\r\n      {numbers}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  const messageStyle = {\r\n    color: 'green',\r\n    fontSize: 16,\r\n    border: '5px solid green',\r\n    textAlign: 'center'\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div> <p style={messageStyle}>{message}</p></div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst ErrorMessage = ({ error }) => {\r\n  const messageStyle = {\r\n    color: 'red',\r\n    fontSize: 16,\r\n    border: '5px solid red',\r\n    textAlign: 'center'\r\n  }\r\n  if (error === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div> <p style={messageStyle}>{error}</p></div>\r\n  )\r\n}\r\n\r\n\r\nexport default ErrorMessage","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(Response => Response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = id => {\r\n  axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, del }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\nimport personsService from './services/persons'\nimport './App.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filtName, setFiltName ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ error, setError ] = useState(null)\n\n  const onClick = (event) => {\n    event.preventDefault()\n    const names = persons.map(item => item.name)\n    if(names.includes(newName)) {\n      const person = persons.find(person => person.name === newName)\n      if (person.number !== newNumber) {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n            const updatedPerson = {...person, number: newNumber}\n          personsService\n            .update(person.id, updatedPerson)\n              .then(personsData => {\n                setPersons(persons.map(p => p.id !== person.id ? p : personsData))\n              })\n            setNewName('')\n            setNewNumber('')\n\n            return\n        }\n      } else {\n        alert(`${newName} is already added to phonebook`)\n        setNewName('')\n        setNewNumber('')\n        return\n      }\n    }\n    const newPerson = {name: newName, number: newNumber}\n    personsService\n      .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n  }\n\n  const onChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const onChangeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const onChangeFilt = (event) => {\n    setFiltName(event.target.value)\n  }\n\n  const numbers = () => {\n    let names = persons\n    if(!(filtName === '')) {\n      names = persons.filter(person => person.name.toLowerCase().includes(filtName.toLowerCase()))\n    } \n    return (\n      names.map((person, i) => {\n        return (\n          <div key={i}>\n          {person.name} {person.number} {\" \"}\n          <button onClick={() => deleteHandler(person.id)}>delete</button> <br/>\n          </div>\n        ) \n      }\n      )\n    )\n  }\n\n  const deleteHandler = (id) => {\n    const name = persons.find(person => person.id === id).name\n    if (window.confirm(`Delete ${name}?`)){\n      personsService\n        .del(id)\n        setTimeout(() => {\n          personsService\n            .getAll()\n              .then(personsData => setPersons(personsData))\n        }, 500)\n    }\n  }\n\n useEffect(() => { \n    personsService\n      .getAll()\n        .then(personsData => {\n          setMessage('promise fulfilled')\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setPersons(personsData)\n        })\n        .catch(error => {\n          setError('promise rejected')\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })\n  }, [])\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <ErrorMessage error={error}/>\n      <Filter filtname={filtName} onChangeFilt={onChangeFilt}/>\n      <h2>add a new</h2>\n      <PersonForm newName={newName} onChange={onChange} newNumber={newNumber} onChangeNumber={onChangeNumber}\n      onClick={onClick}/>\n      <h2>Numbers</h2>\n      <Persons numbers={numbers()}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'  // highlight-line\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}